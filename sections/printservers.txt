At the core of every lab should be some sort of utility server. This server should handle a variety of functions to serve the client machines in the lab. In CECS labs, the most obvious function for these servers was printing, so we decided to call them print servers and name them psvr<lab room number>. Printing is described in the lab printing section. The rest of the printserver's functionality consists of: DHCP, TFTP, PXE boot, NFS, Samba, Norton Ghost (for windows), and to function as NIS slaves.

--DHCPD Server
The DHCPD server functions to hand out IP addresses to the client machines in the lab. The DHCPD has to be on the same subnet as the clients due to how DHCP addresses work. Clients send a broadcast on the local subnet to request an IP, and DHCPD responds. It is possible for this broadcast to escape the subnet, but that requires the router (or layer 3 switch) to use an IP helper protocol. This protocol maps broadcast requests to their origin subnets so that answers can be returned. In CECS labs, we prefer to keep DHCPD on the same subnet in the event that if connection outside the lab is lost, clients can still function locally. 

In addition, the DHCPD server must hand out addresses based on Mac addresses. This is because IP addresses are mapped to hostnames in DNS. Hostnames should match the labels listed on the client machines. This way, if a problem with a client machine is reported, Tech Support knows both where the machine is physically and how to reach it over a network. IP addresses should not be handed out randomly for normal operations (though it could be done for cloning if static addresses are assigned later). 

Alternatively, static addresses can be assigned on a per machine basis during the cloning process. The advantage to this is the clients will be on the network regardless what happens to the DCHPD server. The disadvantage to this is the cloning process will require someone to manually enter an IP for each client at some point, and this will break the ability to do fully automatic lab installs.  Regardless how IP addresses are handled during normal operations, dhcpd must be turned on during cloning to support TFTP and PXE for network booting. 
